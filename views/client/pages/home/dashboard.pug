extends ../../layouts/default.pug

block main
  .container.mt-4
    // Hiá»ƒn thá»‹ thÃ´ng bÃ¡o flash
    // Hiá»ƒn thá»‹ thÃ´ng bÃ¡o flash
    if success && success.length
      .alert.alert-success= success
    if error && error.length
      .alert.alert-danger= error

    if !user
      .row.justify-content-center
        .col-12.col-md-8
          .bg-white.p-5.rounded.shadow.text-center
            h1.mb-4 ChÃ o má»«ng Ä‘áº¿n vá»›i há»‡ thá»‘ng Há»c Trá»±c Tuyáº¿n!
            p.fs-5.mb-3 Ná»n táº£ng há»c táº­p hiá»‡n Ä‘áº¡i, káº¿t ná»‘i giáº£ng viÃªn vÃ  há»c viÃªn má»i lÃºc, má»i nÆ¡i.
            ul.list-unstyled.mb-4
              li.mb-2 ğŸ“š Äa dáº¡ng khÃ³a há»c cháº¥t lÆ°á»£ng
              li.mb-2 ğŸ‘¨â€ğŸ« Äá»™i ngÅ© giáº£ng viÃªn giÃ u kinh nghiá»‡m
              li.mb-2 ğŸ’» Há»c má»i lÃºc, má»i nÆ¡i
            a.btn.btn-primary.btn-lg(href="/user/register") Báº¯t Ä‘áº§u ngay
    else
      if user.role === 'teacher'
        .row.g-4
          // ThÃ´ng tin cÃ¡ nhÃ¢n
          .col-12.col-md-4
            .bg-white.p-4.rounded.shadow
              h2.fs-5.fw-semibold.mb-2 ThÃ´ng tin cÃ¡ nhÃ¢n
              p.mb-1
                strong Email:
                |  #{user.email}
              p.mb-1
                strong Vai trÃ²:
                |  Giáº£ng viÃªn
              p.mb-0
                strong NgÃ y tham gia:
                |  #{user.createdAt ? user.createdAt.toLocaleDateString('vi-VN') : ''}

          // Quáº£n lÃ½ khÃ³a há»c
          .col-12.col-md-8
            .bg-white.p-4.rounded.shadow
              .d-flex.justify-content-between.align-items-center.mb-4
                h2.fs-5.fw-semibold.mb-0 KhÃ³a há»c cá»§a tÃ´i
                a.btn.btn-primary.btn-sm(href="/courses/create") + Táº¡o khÃ³a há»c
              .row.g-3
                // Láº·p qua cÃ¡c khÃ³a há»c cá»§a giáº£ng viÃªn
                each course in courses
                  .col-12.col-md-6
                    .border.p-3.rounded.bg-light.hover-shadow
                      h3.fw-bold.text-primary.fs-6 #{course.title}
                      p.text-muted.mb-1 Sá»‘ há»c viÃªn: #{course.students ? course.students.length : 0}
                      .d-flex.justify-content-between.mt-2.text-sm
                        a.text-primary.text-decoration-underline(href=`/courses/${course.slug}/manage`) Quáº£n lÃ½
                        a.text-success.text-decoration-underline(href=`/courses/${course.slug}/students`) Xem há»c viÃªn

          // ThÃ´ng bÃ¡o há»‡ thá»‘ng
          .col-12
            .bg-white.p-4.rounded.shadow
              h2.fs-5.fw-semibold.mb-3 ThÃ´ng bÃ¡o há»‡ thá»‘ng
              ul.list-unstyled.mb-0
                li.mb-1
                  | ğŸ“ Há»‡ thá»‘ng Ä‘Ã£ cáº­p nháº­t chá»©c nÄƒng cháº¥m bÃ i tá»± Ä‘á»™ng.
                li
                  | ğŸ“¢ Báº¡n cÃ³ thá»ƒ táº£i file bÃ¡o cÃ¡o Ä‘iá»ƒm cá»§a há»c viÃªn.

      else
        .row.g-4
          // ThÃ´ng tin ngÆ°á»i dÃ¹ng
          .col-12.col-md-4
            .bg-white.p-4.rounded.shadow
              h2.fs-5.fw-semibold.mb-2 ThÃ´ng tin cÃ¡ nhÃ¢n
              p.mb-1
                strong Email:
                |  #{user.email}
              p.mb-1
                strong Vai trÃ²:
                |  Há»c viÃªn
              p.mb-0
                strong NgÃ y tham gia:
                |  #{user.createdAt ? user.createdAt.toLocaleDateString('vi-VN') : ''}

          // KhÃ³a há»c Ä‘Ã£ Ä‘Äƒng kÃ½
          .col-12.col-md-8
            .bg-white.p-4.rounded.shadow
              h2.fs-5.fw-semibold.mb-4 KhÃ³a há»c cá»§a báº¡n
              .row.g-3
                // Láº·p qua cÃ¡c khÃ³a há»c cá»§a há»c viÃªn
                each course in courses
                  .col-12.col-md-6
                    .border.p-3.rounded.bg-light.hover-shadow
                      h3.fw-bold.text-primary.fs-6 #{course.title}
                      p.text-muted.mb-1 GV: #{course.instructorName}
                      a(href=`/courses/${course.slug}` class="text-primary text-decoration-underline fs-7") Xem chi tiáº¿t

          // ThÃ´ng bÃ¡o
          .col-12
            .bg-white.p-4.rounded.shadow
              h2.fs-5.fw-semibold.mb-3 ThÃ´ng bÃ¡o má»›i
              ul.list-unstyled.mb-0
                li.mb-1
                  | ğŸ’¡ Báº¡n cÃ³ bÃ i táº­p má»›i trong khÃ³a há»c "Node.js cÆ¡ báº£n". Háº¡n ná»™p: 30/05.
                li
                  | ğŸ†• KhÃ³a há»c "ReactJS toÃ n táº­p" Ä‘Ã£ má»Ÿ Ä‘Äƒng kÃ½.